"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const common_server_1 = require("@dendronhq/common-server");
const git_1 = require("../git");
// import fs from "fs-extra";
// import path from "path";
describe("isRepo", async () => {
    test("no repo", async () => {
        const root = common_server_1.tmpDir().name;
        const repo = await git_1.Git.getRepo(root);
        expect(repo).toMatchSnapshot();
        expect(repo).toBeFalsy();
    });
    // test("repo", async () => {
    //   const root = tmpDir().name;
    //   const repo = await nodegit.Repository.init(root, 0);
    //   const newFilePath = path.join(root, "bond.md");
    //   fs.writeFileSync(newFilePath, "hello", { encoding: "utf8" });
    //   const idx = await repo.refreshIndex();
    //   await idx.addAll();
    //   await idx.write();
    //   const oid = await idx.writeTree();
    //   const author = nodegit.Signature.now("dendron", "bot@dendron.so");
    //   var committer = nodegit.Signature.now("dendron", "bot@dendron.so");
    //   const commitId = await repo.createCommit(
    //     "HEAD",
    //     author,
    //     committer,
    //     "message",
    //     oid,
    //     []
    //   );
    //   expect(commitId).toMatchSnapshot();
    //   expect(await isRepo(root)).toBeTruthy();
    // });
});
//# sourceMappingURL=git.spec.js.map