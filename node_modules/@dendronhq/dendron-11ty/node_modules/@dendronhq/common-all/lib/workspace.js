"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.WorkspaceUtilsCommon = void 0;
const lodash_1 = __importDefault(require("lodash"));
const path_1 = __importDefault(require("path"));
const constants_1 = require("./constants");
const vault_1 = require("./vault");
function getRepoNameFromURL(url) {
    return path_1.default.basename(url, ".git");
}
class WorkspaceUtilsCommon {
    static getRepoDir(wsRoot) {
        return path_1.default.join(wsRoot, constants_1.CONSTANTS.DENDRON_REPO_DIR);
    }
    static getPathForVault(opts) {
        const { wsRoot, vault } = opts;
        if (!lodash_1.default.isUndefined(opts.vault.remote)) {
            const repoName = getRepoNameFromURL(opts.vault.remote.url);
            return path_1.default.join(wsRoot, constants_1.CONSTANTS.DENDRON_REPO_DIR, repoName);
        }
        else {
            return path_1.default.join(wsRoot, vault_1.VaultUtils.normVaultPath({ vault, wsRoot }));
        }
    }
}
exports.WorkspaceUtilsCommon = WorkspaceUtilsCommon;
//# sourceMappingURL=workspace.js.map