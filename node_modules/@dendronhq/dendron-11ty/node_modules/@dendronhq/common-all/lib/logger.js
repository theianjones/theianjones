"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.logAndThrow = exports.createLogger = void 0;
const env_1 = require("./env");
const pino_1 = __importDefault(require("pino"));
function createLogger(name) {
    const level = env_1.env("LOG_LEVEL", { shouldThrow: false }) || "debug";
    const nameClean = name || env_1.env("LOG_NAME");
    return pino_1.default({ name: nameClean, level });
}
exports.createLogger = createLogger;
function logAndThrow(logger, msg) {
    logger.error(msg);
    throw JSON.stringify(msg);
}
exports.logAndThrow = logAndThrow;
//# sourceMappingURL=logger.js.map