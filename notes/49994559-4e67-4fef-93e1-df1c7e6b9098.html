<!DOCTYPE html>

<html lang="en-US"><head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>Domain Modeling Made Functional - Ian's Garden</title>
  

  <link
    rel="shortcut icon"
    href="https://garden.ianjones.us/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://garden.ianjones.us/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://garden.ianjones.us/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://garden.ianjones.us/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
  
<meta name="description" content="Work in progress notes and reference material">
<meta name="author" content="">

<link rel="canonical" href="https://garden.ianjones.us/notes/49994559-4e67-4fef-93e1-df1c7e6b9098.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://garden.ianjones.us/notes/49994559-4e67-4fef-93e1-df1c7e6b9098.html">
<meta property="og:description" content="Work in progress notes and reference material">
<meta property="og:image" content="https://garden.ianjones.us/logo.png">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@_jonesian">
<meta name="twitter:url" content="https://garden.ianjones.us/notes/49994559-4e67-4fef-93e1-df1c7e6b9098.html">
<meta name="twitter:description" content="Work in progress notes and reference material">
<meta name="twitter:image" content="https://garden.ianjones.us/logo.png">


  <meta property="og:title" content="Domain Modeling Made Functional - Ian's Garden" />
  <meta name="twitter:title" content="Domain Modeling Made Functional - Ian's Garden" />
  
</head>


<body style="">
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>
  
    <div class="side-bar">
      <div class="site-header">
        <a href="https://garden.ianjones.us" class="site-title lh-tight">
  <div class="site-logo"></div>

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        🌱 with 💕 using <a href="https://www.dendron.so/"> Dendron 🌲 </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Ian's Garden" aria-label="Search Ian's Garden" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://garden.ianjones.us/notes/d23c27bb-e61c-4fe1-8c55-f612121c1c0e.html">Book</a></li><li class="breadcrumb-nav-list-item">Domain Modeling Made Functional</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
  
        

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Domain Modeling Made Functional">
    
    <meta itemprop="datePublished" content="2021-01-09T14:01:44+00:00">
    <meta itemprop="dateModified" content="2021-01-11T16:00:02+00:00">

    <div class="page__inner-wrap">
      
      

      <section class="page__content" itemprop="text">

        

        <ul>
<li>tags
<ul>
<li><a href="https://garden.ianjones.us/notes/a92e2664-31ce-479f-9e19-ddcf391e5a64.html">Domain Driven Design</a></li>
<li><a href="https://garden.ianjones.us/notes/42fa5357-9e30-408f-a8c1-565456eb0c2e.html">F#</a></li>
</ul>
</li>
</ul>
<p>by <a href="https://garden.ianjones.us/notes/403.html">Scott Wlaschin</a></p>
<h2 id="prelude"><a aria-hidden="true" class="anchor-heading" href="#prelude"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Prelude</h2>
<ul>
<li>Understanding the domain</li>
<li>Modeling the domain</li>
<li>Implementing the model</li>
</ul>
<p>Not a thorough exploration of DDD but more of an introduction with a focus on functional programming.</p>
<p>(a) the importance of communication with domain experts and other non-technical team members and
(b) the value of a shared domain model based on real-world concepts</p>
<p>Second part is Modeling the Domain and a comparison of how you would do this from an OO perspective</p>
<p>Third part is implementing the model</p>
<p>2 other approaches to domain modeling that might fit a situation better</p>
<p>domain that revolves around semi structured data. Maps are a good solution and <a href="https://garden.ianjones.us/notes/cea555ef-d4a2-467d-b7eb-3171c24c49a8.html">lang.clojure</a> has a lot of advice here.</p>
<p>not covering the domains where everything needs to be composed together. Like a financial contract or graphic design tools.</p>
<h2 id="part-i-understanding-the-domain"><a aria-hidden="true" class="anchor-heading" href="#part-i-understanding-the-domain"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Part I: Understanding the Domain</h2>
<h3 id="chapter-1-introduction-domain-driven-design"><a aria-hidden="true" class="anchor-heading" href="#chapter-1-introduction-domain-driven-design"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Chapter 1: Introduction Domain Driven Design</h3>
<p>A developer’s job is to solve a problem through software, and coding is just one aspect of software development.</p>
<p>Software adheres to garbage in, garbage out principle. Requirements or bad design are the input, sorftware is the output. If your design is bad, you cant fix it with code.</p>
<p><a href="dddcommunity.org">DDD Community website</a></p>
<p>DDD is good for designing business or enterprise software.</p>
<p>You needs a <a href="https://garden.ianjones.us/notes/0e67ea1f-ddec-4f47-aeda-325a807c1e7e.html">Shared Model</a></p>
<p><a href="https://garden.ianjones.us/notes/104b644d-5f69-450c-8232-b69d902e9277.html">Domain Experts</a> share their knowledge with the development team.</p>
<p>Development team:</p>
<ul>
<li>UX/UI designers</li>
<li>testers</li>
<li>programmers</li>
</ul>
<p><img src="/assets/images/2021-01-09-14-43-43.png" alt="bad business workflow"></p>
<p>Its better for the Domain experts to be involved with the development workflow. This is an "agile" workflow</p>
<p><img src="/assets/images/2021-01-09-14-46-50.png" alt="agile worflow (a little better)"></p>
<p>The developer here acts as the translator of the domain experts knowledge.</p>
<p>What if the domain experts, development team, other stakeholders, and the code share a mental model?</p>
<p>This is the goal of DDD</p>
<p>Guidelines for building a shared mental model:</p>
<ul>
<li>focus on business events/workflows rather than data structures</li>
<li>break the big domains into smaller domains</li>
<li>create a model for each sub domain</li>
<li>Develop a common language that is shared between everyone involved <a href="https://garden.ianjones.us/notes/73de3525-316c-4ebf-8c55-cb761b702386.html">Pattern Language</a></li>
</ul>
<h4 id="understanding-domain-through-business-events"><a aria-hidden="true" class="anchor-heading" href="#understanding-domain-through-business-events"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Understanding Domain through Business Events</h4>
<p>Businesses transform data. They don't "have data". It is important to understand these transformations.</p>
<p>Static data is not useful to a business. What causes someone to use this data? This is an outside trigger.</p>
<p>These are <a href="https://garden.ianjones.us/notes/660b2c2f-49c5-40c1-a51b-9375ac49e182.html">Domain Events</a></p>
<p>Eg:</p>
<ul>
<li>piece of mail arriving</li>
<li>phone ringing</li>
<li>time based trigger (every day at 10 am etc)</li>
<li>an observation</li>
</ul>
<p>These are the starting points for almost all business processes we want to model.</p>
<p>Domain events are written in the past tense because something happened that can't be changed.</p>
<p><a href="https://garden.ianjones.us/notes/a7102eef-6d17-4f85-aad3-7e2bb5498038.html">terms.ddd.event-storming</a> is a <a href="https://garden.ianjones.us/notes/537dcd6f-75fe-474a-9ee9-6c78eb93c5ca.html">tag.collaborative</a> way to discover business events and their workflows. Sticky note <a href="https://garden.ianjones.us/notes/100c309a-56a4-4abc-ae91-ebfe767d5dac.html">tag.brain-storm</a> sort of event where business events and their associative workflows are generated by any one that is related to the business area.</p>
<p><a href="https://garden.ianjones.us/notes/403.html">book.event-storming</a> by <a href="https://garden.ianjones.us/notes/403.html">people.alberto-brandolini</a></p>
<h4 id="discovering-the-domain-an-order-taking-system"><a aria-hidden="true" class="anchor-heading" href="#discovering-the-domain-an-order-taking-system"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Discovering the Domain: An Order-Taking System</h4>
<p><a href="https://garden.ianjones.us/notes/660b2c2f-49c5-40c1-a51b-9375ac49e182.html">terms.ddd.domain-events</a> examples:</p>
<ul>
<li>Order form received</li>
<li>Order placed</li>
<li>Order shipped</li>
<li>Order change requested</li>
<li>Order cancellation requested</li>
<li>Return requested</li>
<li>Quote form received</li>
<li>Quote provided</li>
<li>New customer request received</li>
<li>New customer registered</li>
</ul>
<p><img src="/assets/images/2021-01-09-15-16-21.png" alt="event storming stickies"></p>
<p>The participants can gain a shared model of the events. These events will build:</p>
<ul>
<li>shared model of the business</li>
<li>awareness of all the teams</li>
<li>finding gaps in the requirements</li>
<li>connections between teams</li>
</ul>
<p>events can be grouped in a timeline so that the connections become clear</p>
<p><img src="/assets/images/2021-01-09-15-16-48.png" alt="event timeline"></p>
<p>Technical details on how things are connected are irrelevant.</p>
<ul>
<li>awareness of reporting requirements</li>
</ul>
<p>Reporting and view-only models need to be included.</p>
<p>DDD has specific definitions for some terms:</p>
<ul>
<li><a href="https://garden.ianjones.us/notes/7e89e542-cf3b-4ba7-97c2-c621c739fba4.html">terms.ddd.scenario</a>: The goal a customer wants to achieve. User-centric concept focused on how interactions appear from the user's point of view. General terms of a user interaction.</li>
<li><a href="https://garden.ianjones.us/notes/224c5b58-e8a8-42b3-b833-b2342bb66c69.html">terms.ddd.use-case</a>: a more detailed version of a scenario. This is also user-centric</li>
<li><a href="https://garden.ianjones.us/notes/90e4ad5c-e59f-460f-bbe1-83b63ebfa94b.html">terms.ddd.business-process</a>: the goal that the business wants to achieve. Has a business-centric focus rather than user-centric</li>
<li><a href="https://garden.ianjones.us/notes/2cee2f14-0b80-4890-b56c-6f4d3ff49089.html">terms.ddd.workflow</a>: detailed description of a part of a business process. A business process can be spread over multiple teams, a workflow can be accomplished by a team or individual.</li>
</ul>
<p>You want to extend events out as far as they go so you can fill in all the gaps</p>
<p><img src="/assets/images/2021-01-09-15-32-48.png" alt="order taken to order signed for"></p>
<p>What do we do with all these domain events? Somebody or something wanted an activity to happen. These are <a href="https://garden.ianjones.us/notes/b6be5a5c-60cf-4080-acbd-7a5afb9cd278.html">terms.ddd.commands</a>.</p>
<p>Commands are imperative: "Do this for me"</p>
<p>Command examples:</p>
<ul>
<li>If the command was “Make X happen,” then, if the workflow made Xhappen, the corresponding Domain Event would be “X happened.”</li>
<li>If the command was “Send an order form to Widgets Inc,” then, if theworkflow sent the order, the corresponding Domain Event would be “Orderform sent.”</li>
<li>Command: “Place an order”; Domain Event: “Order placed.”</li>
<li>Command: “Send a shipment to customer ABC”; Domain Event: “Ship-ment sent.”</li>
</ul>
<p><img src="/assets/images/2021-01-10-09-46-42.png"></p>
<p>Once you have all the events of a process taken in, you need to break it down into sub domains. The departments of a business are strong hints as to what domains each aspect of a process belong to. "order-taking process" is broken into: order taking, shipping, billing, etc.</p>
<p>Each of these areas are called a <a href="https://garden.ianjones.us/notes/7ffff714-bae3-45f2-b60e-167deeb50c53.html">terms.ddd.domain</a>.</p>
<ul>
<li><a href="https://garden.ianjones.us/notes/7ffff714-bae3-45f2-b60e-167deeb50c53.html">terms.ddd.domain</a>: An area of coherent knowledge</li>
<li>or: a domain is just that which a <a href="https://garden.ianjones.us/notes/104b644d-5f69-450c-8232-b69d902e9277.html">terms.ddd.domain-expert</a> is expert in.</li>
</ul>
<p><img src="/assets/images/2021-01-10-09-55-19.png" alt="diagram of related domains"></p>
<p>Our current example domain:</p>
<p><img src="/assets/images/2021-01-10-09-56-11.png" alt="order, shipping, billing domains"></p>
<p>Be wary of trying to draw crisp domain lines. The real world is messy and domains often overlap with each other.</p>
<h4 id="creating-a-solution-using-bounded-contexts"><a aria-hidden="true" class="anchor-heading" href="#creating-a-solution-using-bounded-contexts"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Creating a Solution Using Bounded Contexts</h4>
<p>Defining a problems well is different that creating a solution for a problem. Once you understand the problem, you must create a solution space.</p>
<p>The solution space is where you translate into ddd terminology.</p>
<p><img src="/assets/images/2021-01-10-10-01-28.png" alt="problem space to solution space"></p>
<p><a href="https://garden.ianjones.us/notes/a7102eef-6d17-4f85-aad3-7e2bb5498038.html">terms.ddd.event-storming</a> feels like <a href="https://garden.ianjones.us/notes/763a98cf-77ef-454a-ba8a-e86627a7d897.html">terms.shape-up.forging</a>.</p>
<p>these <a href="https://garden.ianjones.us/notes/7ffff714-bae3-45f2-b60e-167deeb50c53.html">terms.ddd.domain</a> map to <a href="https://garden.ianjones.us/notes/1a5bc3f6-8318-423a-8752-13b4a95496ce.html">terms.ddd.bounded-context</a>. We use this name so that we are aware of the boundaries and context.</p>
<ul>
<li><a href="https://garden.ianjones.us/notes/1a5bc3f6-8318-423a-8752-13b4a95496ce.html">terms.ddd.bounded-context</a>: A context represents specialized knowledge in the solution. We share common language. Domains have fuzzy boundaries but in software we need hard lines around our context so that each context can evolve independently.</li>
</ul>
<p>Sometimes a domain needs to be broken down into multiple bounded contexts.</p>
<p>Getting the context boundaries is an art not a science.</p>
<ul>
<li>domain experts will likely share language. When they do, this signals that they are working in the same subdomain</li>
<li>existing teams/departments are indicators of where boundaries exist. With that said, some departments can be at odds with each other while other departments may work closely with each other</li>
<li>watch out for scope creep when creating a bounded context. In a complex project, this can happen easily 👀</li>
<li>design for autonomy. if two groups contribute to the same bounded context, its better to have two separate contexts that can evolve independently than a single large context that tries to please everybody</li>
<li>work to keep the flow for a process friction free. if a process touches multiple contexts, its better to refactor the contexts to make the workflow smoother, even if this makes the model ugly</li>
</ul>
<p>Once the contexts are created, you have to map the interactions between them.</p>
<ul>
<li><a href="https://garden.ianjones.us/notes/a7be759e-76fa-4cc2-b9fc-7ba6a8e10fbf.html">terms.ddd.context-map</a>: diagrams that bounded contexts together through interactions</li>
</ul>
<p>the goal is to capture the system as a whole:</p>
<p><img src="/assets/images/2021-01-10-16-37-45.png" alt="ordering context map"></p>
<p>There will be upstream and downstream contexts. Upstream contexts are generally more user facing. The upstream context will generally determine the format of the data. This is true unless a downstream context is a legacy system that can't change format.</p>
<p>The domains that bring in the money are the core domains. The others are supportive domains.</p>
<h4 id="creating-a-ubiquitous-language-pattern-language"><a aria-hidden="true" class="anchor-heading" href="#creating-a-ubiquitous-language-pattern-language"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Creating a Ubiquitous Language (pattern language)</h4>
<p>If some terminology is used in the <a href="https://garden.ianjones.us/notes/104b644d-5f69-450c-8232-b69d902e9277.html">terms.ddd.domain-expert</a> vernacular, the there should be a concept in the code with the same thing. It should behave the same way the domain expert would expect it to.</p>
<p>In this example: <code>Order</code>.</p>
<p>You dont want to add a bunch of things to the design that are not used by the domain experts. Things like: <code>OrderFactory</code>, <code>OrderManager</code>, or <code>OrderHelper</code>.</p>
<p>These terms might show up in the codebase but they shouldn't show up in the <em>design</em>.</p>
<p>Everyone will share this language.</p>
<ul>
<li><a href="https://garden.ianjones.us/notes/d39c0238-8551-4bd6-8d1a-1074462215de.html">terms.ddd.ubiquitous-language</a>: The language that defines the shared mental model for the business domain.</li>
</ul>
<p>This language will evolve over time as everyone collaborates on the design. Each bounded context may have a separate dialect of the ubiquitous language. In some cases, the same word may mean something different from one context to another.</p>
<h4 id="summary-of-concepts-in-domain-driven-development"><a aria-hidden="true" class="anchor-heading" href="#summary-of-concepts-in-domain-driven-development"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Summary of Concepts in Domain Driven Development</h4>
<p><em>Page 22</em></p>
<ul>
<li><a href="https://garden.ianjones.us/notes/7ffff714-bae3-45f2-b60e-167deeb50c53.html">terms.ddd.domain</a>: area of knowledge associated with the problem we are trying to solve. This area is simply something a <a href="https://garden.ianjones.us/notes/104b644d-5f69-450c-8232-b69d902e9277.html">terms.ddd.domain-expert</a> is an expert in</li>
<li><a href="https://garden.ianjones.us/notes/977394ad-b592-404d-aff7-10babb04d273.html">terms.ddd.domain-model</a>: simplifications that represent the solutions space of the domain you are working in.</li>
<li><a href="https://garden.ianjones.us/notes/d39c0238-8551-4bd6-8d1a-1074462215de.html">terms.ddd.ubiquitous-language</a>: set of concepts and vocabulary that represents the domain and is shared by the whole team</li>
<li><a href="https://garden.ianjones.us/notes/1a5bc3f6-8318-423a-8752-13b4a95496ce.html">terms.ddd.bounded-context</a>: a subsystem in the domain model that has clear boundaries that distinguish itself from other subsystems. A bounded context has its own dialect of <a href="https://garden.ianjones.us/notes/d39c0238-8551-4bd6-8d1a-1074462215de.html">terms.ddd.ubiquitous-language</a></li>
<li><a href="https://garden.ianjones.us/notes/a7be759e-76fa-4cc2-b9fc-7ba6a8e10fbf.html">terms.ddd.context-map</a>: a high level map that shows the bounded contexts and relationships between them. Sometimes there can be many of these if the system is complex</li>
<li><a href="https://garden.ianjones.us/notes/660b2c2f-49c5-40c1-a51b-9375ac49e182.html">terms.ddd.domain-events</a>: Something that has happened in the system. <strong>Note</strong>: this is always in the past tense. These events often trigger other events.</li>
<li><a href="https://garden.ianjones.us/notes/b6be5a5c-60cf-4080-acbd-7a5afb9cd278.html">terms.ddd.commands</a>: a request for a process to happen that is triggered by a person or <a href="https://garden.ianjones.us/notes/660b2c2f-49c5-40c1-a51b-9375ac49e182.html">terms.ddd.domain-events</a>. If the process succeeds, the state of the subsystem changes and an event is recorded.</li>
</ul>
<h3 id="chapter-2-understanding-the-domain"><a aria-hidden="true" class="anchor-heading" href="#chapter-2-understanding-the-domain"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Chapter 2: Understanding the Domain</h3>
<p>When understanding a domain, it's important to avoid imposing our own mental model on the domain.</p>
<h4 id="interview-with-a-domain-expert"><a aria-hidden="true" class="anchor-heading" href="#interview-with-a-domain-expert"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Interview With a Domain Expert</h4>
<p>Generally, you can have a shorter meeting with domain experts focusing on a single workflow.</p>
<p>Stay high-level so that you dont get bogged down in details.</p>
<p>This is where user research would come in. We want to make sure domain experts are representing their processes to us accurately. Get a sense for the inputs and outputs of a workflow.</p>
<p>The output of a workflow should always be a <a href="https://garden.ianjones.us/notes/660b2c2f-49c5-40c1-a51b-9375ac49e182.html">terms.ddd.domain-events</a></p>
<p><img src="/assets/images/2021-01-11-15-17-08.png" alt="place order workflow"></p>
<p>At this point, you will want to start doing database driven design. This is a trap</p>
<p><img src="/assets/images/2021-01-11-15-27-22.png" alt="ITS A TRAP"></p>
<p>Work it from the domain model without respect to a storage implementation.</p>
<p>This is called <a href="https://garden.ianjones.us/notes/28e3d09d-d098-400f-8f1d-cf0d27650471.html">terms.ddd.persistence-ignorance</a>.</p>
<h4 id="documenting-the-domain"><a aria-hidden="true" class="anchor-heading" href="#documenting-the-domain"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Documenting the Domain</h4>
<p>psuedo code for a <code>Place oder</code> workflow.</p>
<pre><code>Bounded context: Order-Taking

Workflow: "Place order"
  triggered by:
    "Order form received" event (when Quote is not checked)
  primary input:
    An order form
  other input:
    Product catalog
  output events:
    "Order Placed" event
  side-effects:
    An acknowledgment is sent to the customer,along with the placed order
</code></pre>
<p>Document data structures likes so:</p>
<pre><code>bounded context: Order-Taking

data Order = CustomerInfo
             AND Shipping Address
             AND BillingAddress
             AND list of OrderLines
             AND AmountToBill

data OrderLine = Product
                 AND Quantity
                 AND Pricedata

CustomerInfo= ???
BillingAddress= ???
</code></pre>
<p>Generally you want your bounded contexts to work independently, so removing dependencies between them is important.</p><span id="navId" data="49994559-4e67-4fef-93e1-df1c7e6b9098"></span>



                
      </section>

      
    </div>

    
  </article>

  
  
</div>


        
          <hr>
          <footer>
            
            

            
              <div class="d-flex mt-2">
                
                
              </div>
            
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>
</body>
</html>
